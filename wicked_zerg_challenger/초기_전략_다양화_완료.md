# 초기 전략 다양화 완료

## 개요
게임 초반 전략을 다양화하여 예측 불가능한 플레이 패턴을 만들고, 다양한 빌드오더를 시도할 수 있도록 시스템을 구현했습니다.

## 구현 내용

### 1. OpeningStrategyManager 클래스 (`local_training/opening_strategy_manager.py`)

#### 지원하는 전략

**1. 12 Pool (공격형)**
- Spawning Pool: 12 서플라이
- 가스: 없음
- 확장: 없음
- 특징: 초반 러시 중심, 드론보다 군대 우선

**2. 15 Hatch (경제형)**
- Spawning Pool: 없음 (확장 먼저)
- 가스: 없음
- 확장: 15 서플라이
- 특징: 빠른 확장, 드론 최대화

**3. 16 Pool (균형형)**
- Spawning Pool: 16 서플라이
- 가스: 17 서플라이
- 확장: 30 서플라이
- 특징: 균형잡힌 빌드, 드론 우선

**4. 17 Pool (표준형)**
- Spawning Pool: 17 서플라이
- 가스: 18 서플라이
- 확장: 30 서플라이
- 특징: 표준 빌드, 드론 우선

**5. 17 Pool Gas (테크형)**
- Spawning Pool: 17 서플라이
- 가스: 17 서플라이 (풀과 동시)
- 확장: 32 서플라이
- 특징: 빠른 테크, 드론/군대 균형

### 2. 전략 선택 메커니즘

#### 랜덤 선택 (기본)
```python
# 가중치 기반 랜덤 선택
weights = [0.1, 0.15, 0.25, 0.35, 0.15]
# 17 Pool이 가장 높은 확률 (35%)
```

#### 적응형 선택
- **vs Terran**: 경제형 빌드 선호 (40% Hatch 15)
- **vs Protoss**: 균형형 빌드 선호 (40% Pool 17)
- **vs Zerg**: 공격형 빌드 선호 (30% Pool 12)

### 3. Production Resilience 통합

**전략별 파라미터 적용**:
- Spawning Pool 타이밍: 전략에 따라 12-17 서플라이
- 가스 타이밍: 전략에 따라 0-18 서플라이
- 확장 타이밍: 전략에 따라 0-32 서플라이
- 드론 우선순위: 전략에 따라 조절
- 초반 공격성: 전략에 따라 조절

**자동 초기화**:
```python
# 게임 시작 시 랜덤 전략 선택
self.strategy_manager = OpeningStrategyManager(bot, OpeningStrategy.RANDOM)
```

### 4. 성능 추적

**전략별 통계**:
- 게임 수
- 승리/패배
- 승률
- 평균 게임 시간

**최적 전략 식별**:
- 각 전략의 승률 추적
- 최고 승률 전략 자동 식별
- 최소 5게임 이상 데이터 필요

## 작동 방식

### 전략 선택
1. **게임 시작 시**: 랜덤 전략 선택 (또는 적응형)
2. **전략 파라미터 적용**: 선택된 전략의 타이밍 사용
3. **빌드오더 실행**: 전략에 맞는 빌드오더 실행

### 전략별 빌드오더

**12 Pool (공격형)**:
```
12 서플라이: Spawning Pool
13 서플라이: Overlord
14-19 서플라이: 저글링 생산
```

**15 Hatch (경제형)**:
```
15 서플라이: Natural Expansion
16 서플라이: Overlord
17-24 서플라이: 드론 생산 최대화
```

**17 Pool (표준형)**:
```
17 서플라이: Spawning Pool
18 서플라이: Overlord + Gas
30 서플라이: Natural Expansion
```

## 예상 효과

### 1. 예측 불가능성 증가
- 매 게임마다 다른 전략 사용
- 상대방이 패턴 파악 어려움
- 다양한 상황 대응 가능

### 2. 전략 학습
- 각 전략의 성능 추적
- 최적 전략 자동 식별
- 데이터 기반 전략 선택

### 3. 적응력 향상
- 적 종족에 따른 전략 선택
- 게임 상황에 따른 전략 조절
- 다양한 빌드오더 경험 축적

### 4. 승률 개선
- 다양한 전략으로 다양한 상황 대응
- 최적 전략 자동 선택
- 전략별 최적화

## 사용 방법

### 자동 작동
- `production_resilience.py`가 로드되면 자동 초기화
- 게임 시작 시 랜덤 전략 선택
- 전략 파라미터 자동 적용

### 수동 전략 선택
```python
# 특정 전략 선택
strategy_manager.select_strategy(OpeningStrategy.POOL_12)

# 적응형 선택
strategy_manager.select_adaptive_strategy("Terran")
```

### 성능 확인
```python
# 전략별 통계 확인
summary = strategy_manager.get_strategy_summary()
print(summary)

# 최고 승률 전략 확인
best = strategy_manager.get_best_strategy()
print(f"Best strategy: {best}")
```

## 전략 통계 예시

```python
{
    "current_strategy": "17 Pool",
    "strategies": {
        "12 Pool": {
            "games": 10,
            "wins": 4,
            "losses": 6,
            "win_rate": 40.0,
            "avg_game_time": 180.5
        },
        "17 Pool": {
            "games": 15,
            "wins": 9,
            "losses": 6,
            "win_rate": 60.0,
            "avg_game_time": 240.3
        }
    }
}
```

## 다음 단계

1. **게임 훈련 실행**: 다양한 전략 시도
2. **성능 모니터링**: 전략별 승률 추적
3. **최적 전략 식별**: 데이터 기반 전략 선택
4. **전략 추가**: 필요 시 새로운 전략 추가

## 설정

전략 가중치 조정 (`opening_strategy_manager.py`):
```python
weights = [0.1, 0.15, 0.25, 0.35, 0.15]
# [12 Pool, 15 Hatch, 16 Pool, 17 Pool, 17 Pool Gas]
```

적응형 선택 가중치도 조정 가능합니다.
